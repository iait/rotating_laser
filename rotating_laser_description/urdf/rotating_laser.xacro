<?xml version="1.0" ?>
<robot name="rotating_laser" xmlns:xacro="http://www.ros.org/wiki/xacro">

<xacro:include filename="$(find rotating_laser_description)/urdf/material.xacro"/>
<xacro:include filename="$(find rotating_laser_description)/urdf/macro.xacro"/>

<gazebo>
  <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_control">
    <robotNamespace>/rotating_laser</robotNamespace>
    <robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType>
    <legacyModeNS>true</legacyModeNS>
  </plugin>
</gazebo>
  
<!-- Dummy -->
<link name="dummy_link"/>
  
<!-- Base -->
<link name="base_link">
  <inertial>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <mass value="0.18"/>
    <xacro:box_inertia mass="0.18" width="0.08" depth="0.08" height="0.14"/>
  </inertial>
  <visual>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <geometry>
      <box size="0.08 0.08 0.14"/>
    </geometry>
    <material name="grey"/>
  </visual>
  <collision>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <geometry>
      <box size="0.08 0.08 0.14"/>
    </geometry>
  </collision>
</link>
<gazebo reference="base_link">
  <visual>
    <material>
      <xacro:gmaterial color="grey"/>
    </material>
  </visual>
</gazebo>
<joint name="dummy_base_joint" type="fixed">
  <parent link="dummy_link"/>
  <child link="base_link"/>
</joint>

<link name="laser_link">
<inertial>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <mass value="0.27"/>
    <xacro:box_inertia mass="0.27" width="0.058" depth="0.058" height="0.087"/>
  </inertial>
  <visual>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <geometry>
      <mesh filename="package://rotating_laser_description/mesh/hokuyo.dae"/>
    </geometry>
    <material name="black"/>
  </visual>
  <collision>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <geometry>
      <box size="0.05 0.05 0.07"/>
    </geometry>
  </collision>
</link>
<gazebo reference="laser_link">
  <visual>
    <material>
      <xacro:gmaterial color="black"/>
    </material>
  </visual>
</gazebo>
<joint name="base_laser_joint" type="continuous">
  <parent link="base_link"/>
  <child link="laser_link"/>
  <origin xyz="0 0 0.105" rpy="0 0 0"/>
  <axis xyz="0 0 1"/>
</joint>
<transmission name="tran1">
  <type>transmission_interface/SimpleTransmission</type>
  <joint name="base_laser_joint">
    <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
  </joint>
  <actuator name="motor1">
    <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    <mechanicalReduction>1</mechanicalReduction>
  </actuator>
</transmission>

</robot>

